Я использовал jconsole как инструмент профилирования.
1. Создал 1000000 заявок. Heap сразу вырос с ~25mb до 218mb
2. Создал 1000000000 заявок, что привело к OOM ошибке, т.к размер heap вышел за 8Gb, который был установлен как максимальный.
3. После ООМ jconsole пришлось перезагружать.
4. Создал еще раз 1000000 заявок.
5. Удаляю все созданные заявки. Использование CPU резко возросло с 0 до 35%.
6. После удаления всех заявок, размер G1 Eden space упал с 60Mb до 5Mb
7. G1 Old gen вырос с примерно 60Mb до 218Mb
8. G1 Survival space c 7mb до 12mb
9. После нажатия на кнопку Perform GC параметры стали следующими
- Heap вернулся к 25Mb
- G1 Eden space 60Mb -> 0Mb
- G1 Old 218Mb -> 15Mb
- G1 Survival space 12Mb -> 0Mb